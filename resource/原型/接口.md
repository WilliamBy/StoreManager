# 概要

| 动作         | 接口                                         | 响应                                         |
| ------------ | -------------------------------------------- | -------------------------------------------- |
| 注册         | POST /user?username=:username&passwd=:passwd | 注册成功重定向到登录界面，失败则提示         |
| 登录         | GET /user?username=:username&passwd=:passwd  | 登录成功重定向到主界面，失败则提示           |
| 获取货物信息 | GET /goods?limit=:limit                      | 根据要求的数目（limit字段）返回货物信息列表  |
| 添加货物     | POST /goods                                  | 如果货物名称已存在则添加失败，否则返回主界面 |
| 编辑货物     | PUT /goods?name=:name                        | 重新修改的货物名称冲突则失败，否则返回主界面 |
| 获取统计信息 | GET /statistics                              | 返回统计信息                                 |
| 获取流水记录 | GET /history?limit=:limit                    | 根据数目要求返回历史记录列表                 |

- 添加货物和编辑货物所涉及到的信息均以json的形式放在内容主体中：其中name为商品名称，price为单价，num为数量，from为产地，entry_price为进价

- ```javascript
  // 单个货物信息
  {
  	name: "xxx"
  	price: 0,
  	num: 0,
  	from: "xxx",C:\Users\williamby\AppData\Local\Pandoc
  	entry_price: 0,
  }
  ```

- ```javascript
  // 单个流水记录
  {
  	operation: 0,	//操作类型：0-添加货物，1-删除货物，2-编辑货物
  	time: "2022-8-1",	//操作时间
  	name: "xxx"	//操作对象的商品名称
  }
  ```

# 详情

## 登录

- 请求格式

``` 
GET /user?username=:username&passwd=:passwd
```

- 响应格式

``` json
{
    state: 0,	//0-成功登录bing返回会话token，1-用户名不存在，2-密码错误
	token: "xxx"	//jwt token
}
```

